<!DOCTYPE html>
<html lang="es">
<head>
    <title>Lista de Pedidos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
<header>
    <nav class="navbar navbar-expand-md navbar-dark" style="background-color: #1abb2e">
        <div>
            <a href="#" class="navbar-brand ms-3">Gestión de Pedidos</a>
        </div>
    </nav>
</header>
<br>
<div class="container">
    <h2 class="mb-4">Lista de Pedidos</h2>
    <a href="pedido-form.html" class="btn btn-primary mb-3">
        <i class="bi bi-plus-circle"></i> Agregar Nuevo Pedido
    </a>

    <table class="table table-bordered table-striped table-hover">
        <thead class="table-success">
        <tr>
            <th>ID</th>
            <th>Fecha</th>
            <th>Número de Mesa</th>
            <th>Nombre del Cliente</th>
            <th>Nota Especial</th>
            <th>Estado</th>
            <th>Total</th>
            <th>Método de Pago</th>
            <th>Nombre del Mesero</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="pedido : ${listaPedidos}">
            <td th:text="${pedido.id_pedido}"></td>
            <td th:text="${#dates.format(pedido.fecha, 'yyyy-MM-dd')}"></td>
            <td th:text="${pedido.num_mesa}"></td>
            <td th:text="${pedido.nom_cliente}"></td>
            <td th:text="${pedido.nota_especial}"></td>
            <td th:text="${pedido.estado}"></td>
            <td th:text="${pedido.total}"></td>
            <td th:text="${pedido.metodo_pago}"></td>
            <td th:text="${pedido.nom_mesero}"></td>
            <td>
                <a th:href="@{/pedido/editar/{id}(id=${pedido.id_pedido})}" class="btn btn-warning btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" title="Editar Pedido">
                    <i class="bi bi-pencil-square"></i>
                </a>
                <button class="btn btn-danger btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" title="Eliminar Pedido" data-id="${pedido.id_pedido}">
                    <i class="bi bi-trash"></i>
                </button>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(listaPedidos)}">
            <td colspan="10" class="no-orders">No hay pedidos para mostrar.</td>
        </tr>
        </tbody>
    </table>
    <a href="index.html" class="btn btn-primary mb-3">
        <i class="bi bi-arrow-left-circle"></i> Regresar
    </a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="JS2.js"></script>
</body>
</html>